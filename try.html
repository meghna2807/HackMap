<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HackMap Opportunities</title>
<style>
/* ----- Body & Fonts ----- */
body {
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', sans-serif;
  background: linear-gradient(to bottom, #ff65de, #738fff);
  color: #222;
  transition: background 0.3s, color 0.3s;
}
body.dark {
  background: linear-gradient(to bottom, #222, #444);
  color: #f1f1f1;
}

/* ----- Header & Title ----- */
h1 {
  text-align: center;
  margin: 20px 0;
  font-size: 28px;
  font-weight: bold;
}

/* ----- Top Bar ----- */
.top-bar {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 12px;
  margin-bottom: 20px;
}
.top-bar select, .top-bar input, .top-bar button {
  padding: 8px 12px;
  border-radius: 6px;
  border: 1px solid #555;
  font-size: 14px;
}
.toggle-dark {
  cursor: pointer;
  background: #222;
  color: white;
  font-weight: bold;
}

/* ----- Card Container ----- */
.card-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
  max-width: 1100px;
  margin: 20px auto;
  padding: 0 15px;
}

/* ----- Individual Cards ----- */
.card {
  background-color: cornsilk;
  border-radius: 12px;
  border: 2px solid black;
  padding: 15px;
  display: flex;
  flex-direction: column;
  transition: transform 0.3s, box-shadow 0.3s;
  overflow: hidden;
}
body.dark .card { background-color: #333; border-color: #999; }
.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
}
.card h2 { font-size: 18px; font-weight: bold; margin: 0 0 8px; }
.card p { font-size: 14px; margin: 4px 0; }
.deadline { font-size: 13px; color: red; margin: 5px 0; }
body.dark .deadline { color: #ff7777; }

/* ----- Buttons ----- */
.button-container {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  margin-top: auto;
}
.btn {
  flex: 1;
  padding: 8px;
  border: none;
  border-radius: 8px;
  font-weight: bold;
  cursor: pointer;
  color: white;
  text-align: center;
  text-decoration: none;
}
.apply-btn { background: #007bff; }
.notify-btn { background: #ff9800; }
.bookmark-btn { background: #4caf50; }
.btn:hover { opacity: 0.85; }

/* ----- Saved Section ----- */
.saved-section {
  max-width: 1000px;
  margin: 20px auto;
  padding: 15px;
  background: rgba(255,255,255,0.7);
  border-radius: 10px;
}
body.dark .saved-section { background: rgba(0,0,0,0.5); }

/* ----- Boxes for Year Selection ----- */
.boxes {
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  display: flex;
  flex-direction: column;
  gap: 20px;
  width: 500px;
  margin: 50px auto;
}
.box button {
  width: 100%;
  padding: 20px;
  font-weight: bold;
  font-size: large;
  border-radius: 10px;
  border: 2px solid black;
  background-color: cornsilk;
  cursor: pointer;
  transition: transform 0.3s, background-color 0.3s;
}
.box button:hover {
  background-color: rgb(222, 179, 251);
  transform: scale(1.05);
}
</style>
</head>
<body>

<h1 class="type">Find Year Specific Opportunities</h1>

<!-- Year Selection Boxes -->
<div class="boxes" id="year-menu">
  <div class="box"><button onclick="showOpportunities('1st')">üìò OPEN TO 1st YEAR</button></div>
  <div class="box"><button onclick="showOpportunities('2nd')">üöÄ OPEN TO 2nd YEAR</button></div>
  <div class="box"><button onclick="showOpportunities('3rd')">üíº OPEN TO 3rd YEAR</button></div>
  <div class="box"><button onclick="showOpportunities('4th')">üéì OPEN TO 4th YEAR</button></div>
</div>

<!-- Filters + Card Container -->
<div class="top-bar">
  <select id="monthFilter">
    <option value="all">All Months</option>
    <option value="January">January</option>
    <option value="February">February</option>
    <option value="March">March</option>
    <option value="April">April</option>
    <option value="May">May</option>
    <option value="June">June</option>
    <option value="July">July</option>
    <option value="August">August</option>
    <option value="September">September</option>
    <option value="October">October</option>
    <option value="November">November</option>
    <option value="December">December</option>
  </select>
  <input type="text" id="keywordFilter" placeholder="Search by company...">
  <button class="toggle-dark">üåô Dark Mode</button>
</div>

<div class="card-container" id="cardContainer"></div>

<section class="saved-section">
  <h2>‚≠ê Saved Opportunities</h2>
  <ul id="savedList"></ul>
</section>

<script>
// Internship Data
const internships = [
  { title: "Google STEP", desc: "Software Development Internship at Google.", timeline: "Nov-Dec", applyLink: "https://www.google.com/about/careers/applications/", finalMonth: "December", deadline: "2025-12-15", year: "1st" },
  { title: "Cisco Virtual Internship", desc: "Virtual internship program at Cisco.", timeline: "Oct-Nov", applyLink: "https://www.cisco.com/c/en_in/careers/internships.html", finalMonth: "October", deadline: "2025-10-25", year: "2nd" },
  { title: "Code With Cisco", desc: "Coding and technical skill development program by Cisco.", timeline: "Sep-Oct", applyLink: "https://www.cisco.com/c/en_in/careers/code-with-cisco.html", finalMonth: "September", deadline: "2025-09-30", year: "3rd" },
  { title: "Google WE Scholar", desc: "Mentorship and virtual program for women in engineering.", timeline: "Aug-Sep", applyLink: "https://buildyourfuture.withgoogle.com/programs/we-scholar", finalMonth: "August", deadline: "2025-08-31", year: "4th" },
];

const monthOrder = ["January","February","March","April","May","June","July","August","September","October","November","December"];
const cardContainer = document.getElementById('cardContainer');
const monthFilter = document.getElementById('monthFilter');
const keywordFilter = document.getElementById('keywordFilter');
const savedList = document.getElementById('savedList');

let savedInternships = JSON.parse(localStorage.getItem('saved')) || [];
let notified = JSON.parse(localStorage.getItem('notifications')) || [];

// Countdown function
function getCountdown(date) {
  const now = new Date();
  const deadline = new Date(date);
  const diff = deadline - now;
  if(diff <= 0) return "Deadline passed";
  const days = Math.floor(diff / (1000*60*60*24));
  return `${days} days left`;
}

// Render saved internships
function renderSaved() {
  savedList.innerHTML = "";
  savedInternships.forEach(title => {
    const li = document.createElement("li");
    li.textContent = title;
    savedList.appendChild(li);
  });
}

// Display cards with optional filter
function displayCards(filterMonth="all", keyword="", yearFilter="all") {
  cardContainer.innerHTML = "";
  const sortedInternships = internships.slice().sort((a,b) =>
